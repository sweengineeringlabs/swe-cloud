# yaml-language-server: $schema=https://rustscript.dev/schemas/routes.schema.json
# IAC Feature Routes
# Infrastructure as Code management

feature:
  name: "Infrastructure"
  icon: "git-branch"
  description: "Infrastructure as Code deployment and management"
  role_required: ["devops", "admin"]

routes:
  # Overview/Landing
  - path: "/iac"
    page: "iac_overview"
    title: "Infrastructure"
    icon: "git-branch"
    nav: "main"

  # Modules
  - path: "/iac_modules"
    page: "iac_modules"
    title: "Modules"
    icon: "box"

  - path: "/iac_modules/:module"
    page: "iac_module_detail"
    title: "{module}"

  # Deploy
  - path: "/iac_deploy"
    page: "iac_deploy"
    title: "Deploy"
    icon: "upload-cloud"
    workflow: "deploy-infrastructure"

  # Deployments
  - path: "/iac_deployments"
    page: "iac_deployments"
    title: "Deployments"
    icon: "list"

  - path: "/iac_deployments/:id"
    page: "iac_deployment_detail"
    title: "Deployment #{id}"

  # State
  - path: "/iac_state"
    page: "iac_state"
    title: "State"
    icon: "file-text"

  # Plans
  - path: "/iac_plans"
    page: "iac_plans"
    title: "Plans"
    icon: "clipboard"

  - path: "/iac_plans/:id"
    page: "iac_plan_detail"
    title: "Plan #{id}"
